tank:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    @prefix equip: <urn:nawi-water-ontology/equip#> .

    P:name a equip:Tank ;
      s223:hasConnectionPoint P:in, P:out, P:bi-cp ;
      s223:cnx P:in, P:out, P:bi-cp ;
      s223:hasRole P:role .
  dependencies:
    - template: inlet-cp
      args: {"name": "in"}
    - template: outlet-cp
      args: {"name": "out"}
    - template: bidirectional-cp
      args: {"name": "bi-cp"}
  optional: ["role", "bi-cp", "in", "out"]

bladder:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    @prefix equip: <urn:nawi-water-ontology/equip#> .

    P:name a equip:Tank ;
      s223:hasConnectionPoint P:in, P:out ;
      s223:cnx P:in, P:out ;
      s223:hasRole P:role .
  dependencies:
    - template: inlet-cp
      args: {"name": "in"}
    - template: outlet-cp
      args: {"name": "out"}
  optional: ["role"]

valve:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    @prefix equip: <urn:nawi-water-ontology/equip#> .

    P:name a equip:Valve ;
      s223:hasConnectionPoint P:in, P:out ;
      s223:cnx P:in, P:out ;
      s223:hasRole P:role .
  dependencies:
    - template: inlet-cp
      args: {"name": "in"}
    - template: outlet-cp
      args: {"name": "out"}
  optional: ["role"]

filter:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    @prefix equip: <urn:nawi-water-ontology/equip#> .

    P:name a equip:Filter ;
      s223:hasConnectionPoint P:in, P:out ;
      s223:hasRole P:role .
  dependencies:
    - template: inlet-cp
      args: {"name": "in"}
    - template: outlet-cp
      args: {"name": "out"}
  optional: ["role"]

membrane:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    @prefix equip: <urn:nawi-water-ontology/equip#> .

    P:name a equip:Membrane ;
      s223:hasConnectionPoint P:in, P:out ;
      s223:hasRole P:role .
  dependencies:
    - template: inlet-cp
      args: {"name": "in"}
    - template: outlet-cp
      args: {"name": "out"}
  optional: ["role"]

membrane-module:
# Membrane module may in reality contain many membranes 
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    @prefix equip: <urn:nawi-water-ontology/equip#> .

    P:name a equip:Equipment ;
      s223:contains P:membrane ;
      s223:hasConnectionPoint P:in, P:out ;
      s223:hasRole P:role .
    P:membrane-in s223:mapsTo P:in .
    P:membrane-out s223:mapsTo P:out .

  dependencies:
    - template: inlet-cp
      args: {"name": "in"}
    - template: outlet-cp
      args: {"name": "out"}
    - template: membrane
      args: {"name": "membrane", "in":"membrane-in", "out":"membrane-out"}
  optional: ["role"]

pump:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    @prefix equip: <urn:nawi-water-ontology/equip#> .

    P:name a equip:Filter ;
      s223:hasConnectionPoint P:in, P:out ;
      s223:hasRole P:role .
  dependencies:
    - template: inlet-cp
      args: {"name": "in"}
    - template: outlet-cp
      args: {"name": "out"}
  optional: ["role"]
check-valve:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    @prefix equip: <urn:nawi-water-ontology/equip#> .

    P:name a equip:CheckValve ;
      s223:hasConnectionPoint P:in, P:out ;
      s223:cnx P:in, P:out ;
      s223:hasRole P:role .
  dependencies:
    - template: inlet-cp
      args: {"name": "in"}
    - template: outlet-cp
      args: {"name": "out"}
  optional: ["role"]
